!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function n(e){return/^\s*(.*?)\s*$/.exec(e)[1]}function t(e,n){for(var t=-1,r=1,u=e.split(i),f=0;f<u.length;f++){for(var o=1;o<=u[f].length;o++)r==n&&(t=f),r++;r++}var a=["",""];return 0==n?(a[1]=u[0],a[0]=null):(a[1]=u[t],a[0]=u[t-1]),a}var r=[" ","\\+","\\-","\\(","\\)","\\*","/",":","\\?","\\<","\\>"," ","\\."],i=new RegExp(r.join("|"),"g");e.defineMode("swift",function(){var e=["var","let","class","deinit","enum","extension","func","import","init","let","protocol","static","struct","subscript","typealias","var","as","dynamicType","is","new","super","self","Self","Type","__COLUMN__","__FILE__","__FUNCTION__","__LINE__","break","case","continue","default","do","else","fallthrough","if","in","for","return","switch","where","while","associativity","didSet","get","infix","inout","left","mutating","none","nonmutating","operator","override","postfix","precedence","prefix","right","set","unowned","unowned(safe)","unowned(unsafe)","weak","willSet"],r=["Infinity","NaN","undefined","null","true","false","on","off","yes","no","nil","null","this","super"],u=["String","bool","int","string","double","Double","Int","Float","float","public","private","extension"],f=["0","1","2","3","4","5","6","7","8","9"],o=["+","-","/","*","%","=","|","&","<",">"],a=[";",",",".","(",")","{","}","[","]"],s=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,l=/^[_A-Za-z$][_A-Za-z$0-9]*/,c=/^(@|this\.)[_A-Za-z$][_A-Za-z$0-9]*/,d=/^(\/{3}|\/)/;return{startState:function(){return{prev:!1,string:!1,escape:!1,inner:!1,comment:!1,num_left:0,num_right:0,doubleString:!1,singleString:!1}},token:function(m,g){if(m.eatSpace())return null;var p=m.next();if(g.string)return g.escape?(g.escape=!1,"string"):('"'==p&&g.doubleString&&!g.singleString||"'"==p&&!g.doubleString&&g.singleString)&&!g.escape?(g.string=!1,g.doubleString=!1,g.singleString=!1,"string"):"\\"==p&&"("==m.peek()?(g.inner=!0,g.string=!1,"keyword"):"\\"==p&&"("!=m.peek()?(g.escape=!0,g.string=!0,"string"):"string";if(g.comment)return"*"==p&&"/"==m.peek()?(g.prev="*","comment"):"/"==p&&"*"==g.prev?(g.prev=!1,g.comment=!1,"comment"):"comment";if("/"==p){if("/"==m.peek())return m.skipToEnd(),"comment";if("*"==m.peek())return g.comment=!0,"comment"}if("("==p&&g.inner)return g.num_left++,null;if(")"==p&&g.inner)return g.num_right++,g.num_left==g.num_right&&(g.inner=!1,g.string=!0),null;var h=t(m.string,m.pos),_=h[1],b=h[0];if(o.indexOf(p+"")>-1)return"operator";if(a.indexOf(p)>-1)return"punctuation";if("undefined"!=typeof _){if(_=n(_),"undefined"!=typeof b&&(b=n(b)),"#"==_.charAt(0))return null;if(u.indexOf(_)>-1)return"def";if(r.indexOf(_)>-1)return"atom";if(f.indexOf(_)>-1)return"number";if((f.indexOf(_.charAt(0)+"")>-1||o.indexOf(_.charAt(0)+"")>-1)&&f.indexOf(p)>-1)return"number";if(e.indexOf(_)>-1||e.indexOf(_.split(i)[0])>-1)return"keyword";if(e.indexOf(b)>-1)return"def"}if('"'==p&&!g.doubleString)return g.string=!0,g.doubleString=!0,"string";if("'"==p&&!g.singleString)return g.string=!0,g.singleString=!0,"string";if("("==p&&g.inner&&g.num_left++,")"==p&&g.inner)return g.num_right++,g.num_left==g.num_right&&(g.inner=!1,g.string=!0),null;if(m.match(/^-?[0-9\.]/,!1)){if(m.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)||m.match(/^-?\d+\.\d*/)||m.match(/^-?\.\d+/))return"."==m.peek()&&m.backUp(1),"number";if(m.match(/^-?0x[0-9a-f]+/i)||m.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)||m.match(/^-?0(?![\dx])/i))return"number"}if(m.match(d)){if("/"!=m.current()||m.match(/^.*\//,!1))return"string";m.backUp(1)}return m.match(s)?"punctuation":m.match(l)?"variable":m.match(c)?"property":"variable"}}}),e.defineMIME("text/x-swift","swift")});